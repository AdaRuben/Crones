# TODO: Добавление выбора категории транспорта на MainPage

## Цель
Добавить выпадающий список для выбора категории транспортного средства (vehicle) на странице MainPage.tsx с использованием компонента Select из библиотеки Ant Design.

## Категории транспорта
Согласно модели Order ([server/db/models/order.js:25](server/db/models/order.js#L25)):
- **Кроссовер**
- **Седан**

## План реализации

### 1. Подготовка Redux store
- [ ] Добавить поле `vehicle` в state слайса карты ([client/src/entities/maps/slice/MapSlices.ts](client/src/entities/maps/slice/MapSlices.ts))
- [ ] Создать action `setVehicle` для обновления выбранного типа транспорта
- [ ] Инициализировать значение по умолчанию (null или первый вариант)

### 2. Обновление типов
- [ ] Создать type для категорий транспорта: `type VehicleType = 'Кроссовер' | 'Седан'`
- [ ] Добавить vehicle в интерфейс состояния карты

### 3. Интеграция Ant Design Select в MainPage.tsx
- [ ] Импортировать компонент `Select` из `antd`
- [ ] Импортировать стили Ant Design (если еще не импортированы глобально)
- [ ] Добавить выпадающий список между полем "Куда" и "Комментарий к заказу"
- [ ] Настроить options для Select:
  ```tsx
  const vehicleOptions = [
    { value: 'Кроссовер', label: 'Кроссовер' },
    { value: 'Седан', label: 'Седан' }
  ];
  ```

### 4. UI компонент Select
Добавить после блока с инпутом "Куда" (после строки 210):
```tsx
<div className="input-wrapper">
  <label>
    Тип транспорта
    <Select
      placeholder="Выберите тип транспорта"
      value={vehicle}
      onChange={(value) => dispatch(setVehicle(value))}
      options={vehicleOptions}
      style={{ width: '100%' }}
    />
  </label>
</div>
```

### 5. Стилизация
- [ ] Добавить стили для Select в [MainPage.css](client/src/pages/main-page/MainPage.css)
- [ ] Убедиться, что Select визуально соответствует остальным полям формы
- [ ] Проверить отступы и выравнивание

### 6. Валидация
- [ ] Добавить проверку выбора транспорта перед отправкой заказа
- [ ] Заблокировать кнопку "Заказать" если vehicle не выбран (опционально)
- [ ] Добавить визуальную индикацию обязательного поля (опционально)

### 7. Интеграция с API
- [ ] Обновить функцию создания заказа, чтобы включить поле `vehicle`
- [ ] Убедиться, что значение передается в запросе POST к серверу

## Тестирование с помощью Playwright MCP Server

### 8. Настройка окружения для тестирования
- [ ] Запустить dev-сервер клиента: `cd client && npm run dev`
- [ ] Убедиться, что приложение доступно на http://localhost:5173

### 9. Визуальное тестирование с Playwright
- [ ] Открыть страницу в браузере через Playwright MCP
- [ ] Сделать скриншот начального состояния формы
- [ ] Проверить, что Select отображается корректно
- [ ] Проверить placeholder "Выберите тип транспорта"

### 10. Функциональное тестирование
- [ ] Кликнуть на Select и проверить открытие dropdown
- [ ] Сделать скриншот открытого списка опций
- [ ] Выбрать опцию "Кроссовер"
- [ ] Проверить, что значение отображается в Select
- [ ] Выбрать опцию "Седан"
- [ ] Проверить изменение значения

### 11. Тестирование интеграции
- [ ] Заполнить все поля формы (Откуда, Куда, Тип транспорта, Комментарий)
- [ ] Проверить, что кнопка "Заказать" активна
- [ ] Проверить сохранение значения в Redux store через DevTools

## Команды для тестирования

```bash
# Запуск клиента
cd client
npm run dev

# Playwright команды (через MCP):
# 1. Открыть браузер и перейти на страницу
# 2. Сделать snapshot страницы
# 3. Взаимодействовать с Select
# 4. Сделать скриншоты для документации
```

## Дополнительные улучшения (опционально)
- [ ] Добавить иконки транспорта к каждой опции
- [ ] Добавить режим поиска в Select (showSearch)
- [ ] Добавить возможность очистки выбора (allowClear)
- [ ] Добавить tooltip с описанием типов транспорта

## Зависимости
- Ant Design уже установлен: `antd@^5.28.0` ✅
- Icons: `@ant-design/icons@^6.1.0` ✅

## Связанные файлы
- [client/src/pages/main-page/MainPage.tsx](client/src/pages/main-page/MainPage.tsx) - основной файл
- [client/src/pages/main-page/MainPage.css](client/src/pages/main-page/MainPage.css) - стили
- [client/src/entities/maps/slice/MapSlices.ts](client/src/entities/maps/slice/MapSlices.ts) - Redux слайс
- [server/db/models/order.js:25](server/db/models/order.js#L25) - модель с enum
