# Crones
# Tow Truck Ordering System - README

## Обзор проекта

Веб-приложение для заказа услуг эвакуаторов в Москве. Система позволяет пользователям интерактивно выбирать точки отправления и назначения на карте, выбирать тип транспортного средства и автоматически рассчитывать стоимость услуг с помощью ИИ.

## Функциональные возможности

### Для пользователей:
- **Интерактивная карта Москвы** для выбора точек отправления и назначения
- **Боковое меню** с элементами управления:
  - Кнопка "Позвонить" (переход на страницу контактов/звонок на мобильных устройствах)
  - Выбор типа кузова (седан/внедорожник)
  - Поле для комментариев к заказу
- **Автоматический расчет стоимости** с использованием ИИ
- **Оформление заказов** с отправкой уведомления администратору

### Для администраторов:
- **Личный кабинет администратора** с управлением заказами
- **Категории заказов**:
  - Активные
  - В процессе выполнения
  - Завершенные
- **Информация о заказах**:
  - Номер телефона клиента
  - Тип кузова
  - Дата оформления заказа
  - Детали маршрута

## Технические требования

### Фронтенд:
- Адаптивный веб-дизайн (desktop/mobile)
- Интерактивная карта (Яндекс.Карты/Google Maps API)
- Современный UI/UX

### Бэкенд:
- Серверная логика расчета стоимости с ИИ
- Система уведомлений по email
- API для управления заказами
- Аутентификация для администратора

### База данных:
- Хранение данных о заказах
- Учетные данные администраторов
- История выполненных заказов

## Установка и настройка

### Предварительные требования:
- Node.js (версия X.X.X)
- MongoDB/PostgreSQL
- API ключи для картографического сервиса
- SMTP настройки для отправки email

### Шаги установки:

1. **Клонирование репозитория**
   ```bash
   git clone [repository-url]
   cd tow-truck-system
   ```

2. **Установка зависимостей**
   ```bash
   npm install
   ```

3. **Настройка переменных окружения**
   Создайте файл `.env` со следующими параметрами:
   ```
   DATABASE_URL=your_database_connection_string
   MAP_API_KEY=your_map_service_api_key
   EMAIL_HOST=your_smtp_host
   EMAIL_USER=your_email_username
   EMAIL_PASS=your_email_password
   ADMIN_EMAIL=admin@company.com
   ```

4. **Запуск приложения**
   ```bash
   npm start
   ```

## Структура проекта

```
tow-truck-system/
├── client/                 # Фронтенд приложение
│   ├── src/
│   │   ├── components/     # React компоненты
│   │   ├── pages/         # Страницы приложения
│   │   └── styles/        # Стили
├── server/                # Бэкенд приложение
│   ├── controllers/       # Логика обработки запросов
│   ├── models/           # Модели данных
│   ├── routes/           # Маршруты API
│   └── services/         # Бизнес-логика
├── database/             # Миграции и схемы БД
└── docs/                # Документация
```

## API Endpoints

### Пользовательские endpoints:
- `POST /api/orders` - Создание нового заказа
- `GET /api/orders/:id` - Получение информации о заказе
- `POST /api/calculate-price` - Расчет стоимости услуги

### Административные endpoints:
- `GET /api/admin/orders` - Получение списка заказов
- `PUT /api/admin/orders/:id` - Обновление статуса заказа
- `GET /api/admin/statistics` - Статистика заказов

## Модели данных

### Order (Заказ):
```javascript
{
  customerPhone: String,
  vehicleType: String, // 'sedan' | 'suv'
  pickupLocation: {
    coordinates: [Number, Number],
    address: String
  },
  deliveryLocation: {
    coordinates: [Number, Number],
    address: String
  },
  comment: String,
  price: Number,
  status: String, // 'active' | 'in-progress' | 'completed'
  createdAt: Date,
  updatedAt: Date
}
```

## Алгоритм расчета стоимости

Система использует ИИ для расчета стоимости на основе:
- Расстояния между точками
- Типа транспортного средства
- Времени суток
- Загруженности дорог
- Исторических данных

## Разработка

### Запуск в режиме разработки:
```bash
npm run dev
```

### Тестирование:
```bash
npm test
```

### Сборка для production:
```bash
npm run build
```
